<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sorting Algorithms | CHKAOS</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/note/egg.png">
    <meta name="description" content="My Note Collection">
    <link rel="preload" href="/note/assets/css/0.styles.90fca9c0.css" as="style"><link rel="preload" href="/note/assets/js/app.836c388e.js" as="script"><link rel="preload" href="/note/assets/js/2.ad448db7.js" as="script"><link rel="preload" href="/note/assets/js/11.5fff0ae5.js" as="script"><link rel="prefetch" href="/note/assets/js/10.5433bdc2.js"><link rel="prefetch" href="/note/assets/js/12.a7446a9b.js"><link rel="prefetch" href="/note/assets/js/13.d9db1578.js"><link rel="prefetch" href="/note/assets/js/14.2661c89c.js"><link rel="prefetch" href="/note/assets/js/15.35133e42.js"><link rel="prefetch" href="/note/assets/js/16.3b818d8a.js"><link rel="prefetch" href="/note/assets/js/17.13966267.js"><link rel="prefetch" href="/note/assets/js/18.a97739fc.js"><link rel="prefetch" href="/note/assets/js/19.cb28e9d3.js"><link rel="prefetch" href="/note/assets/js/20.4eb723bc.js"><link rel="prefetch" href="/note/assets/js/21.8b2f109f.js"><link rel="prefetch" href="/note/assets/js/22.9733c2fb.js"><link rel="prefetch" href="/note/assets/js/23.9a24215f.js"><link rel="prefetch" href="/note/assets/js/24.03029be0.js"><link rel="prefetch" href="/note/assets/js/25.93b1b83d.js"><link rel="prefetch" href="/note/assets/js/26.a3f32825.js"><link rel="prefetch" href="/note/assets/js/27.9c3b11f2.js"><link rel="prefetch" href="/note/assets/js/28.3ab53ab5.js"><link rel="prefetch" href="/note/assets/js/29.6acd20ea.js"><link rel="prefetch" href="/note/assets/js/3.45c5b9e4.js"><link rel="prefetch" href="/note/assets/js/30.cedcb08b.js"><link rel="prefetch" href="/note/assets/js/31.7b8a3d33.js"><link rel="prefetch" href="/note/assets/js/32.7cc5481f.js"><link rel="prefetch" href="/note/assets/js/33.3d32397e.js"><link rel="prefetch" href="/note/assets/js/34.a4ab609d.js"><link rel="prefetch" href="/note/assets/js/4.12bc946b.js"><link rel="prefetch" href="/note/assets/js/5.8c73f00d.js"><link rel="prefetch" href="/note/assets/js/6.7af99317.js"><link rel="prefetch" href="/note/assets/js/7.9cae59dc.js"><link rel="prefetch" href="/note/assets/js/8.d0fb94af.js"><link rel="prefetch" href="/note/assets/js/9.d1c4bba9.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.90fca9c0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><img src="/note/favicon.png" alt="CHKAOS" class="logo"> <span class="site-name can-hide">CHKAOS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/mit/" class="nav-link router-link-active">
  MIT
</a></div><div class="nav-item"><a href="http://chkaos.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/chkaos/note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/mit/" class="nav-link router-link-active">
  MIT
</a></div><div class="nav-item"><a href="http://chkaos.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/chkaos/note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Background</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Course</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Introduction To Computer Science And Programming In Python</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/note/mit/course/introductiontocomputerscienceandprogramminginpython/bi-ji.html" class="sidebar-link">笔记</a></li><li><a href="/note/mit/course/introductiontocomputerscienceandprogramminginpython/pai-xu-suan-fa.html" aria-current="page" class="active sidebar-link">Sorting Algorithms</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/mit/course/introductiontocomputerscienceandprogramminginpython/pai-xu-suan-fa.html#排序算法比较" class="sidebar-link">排序算法比较</a></li><li class="sidebar-sub-header"><a href="/note/mit/course/introductiontocomputerscienceandprogramminginpython/pai-xu-suan-fa.html#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/note/mit/course/introductiontocomputerscienceandprogramminginpython/pai-xu-suan-fa.html#其他辅助方法" class="sidebar-link">其他辅助方法</a></li><li class="sidebar-sub-header"><a href="/note/mit/course/introductiontocomputerscienceandprogramminginpython/pai-xu-suan-fa.html#参考" class="sidebar-link">参考</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Mathematics For Computer Science</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Introduction To Electrical Engineering And Computer Science I</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Introduction To EEC Svia Communication Networks</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Introduction To Algorithms</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="sorting-algorithms"><a href="#sorting-algorithms" class="header-anchor">#</a> Sorting Algorithms</h1> <h3 id="冒泡排序"><a href="#冒泡排序" class="header-anchor">#</a> 冒泡排序</h3> <p>冒泡排序又称为泡式排序，是一种简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。这个算法的名字由来是因为越小的元素会经由交换慢慢“浮”到数列的顶端。</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> L<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> L<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
				<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>1 次这样的循环可以得到一个最大值, 我们可以通过在每次循环中记录最后的交换的位置(pos)以及双向冒泡来进行性能优化。</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">bubbleSort2</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
	start <span class="token operator">:=</span> <span class="token number">0</span>
	end <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
	<span class="token keyword">for</span> start <span class="token operator">&lt;</span> end <span class="token punctuation">{</span>
		<span class="token keyword">var</span> startPos<span class="token punctuation">,</span> endPos <span class="token builtin">int</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> L<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> L<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
				endPos <span class="token operator">=</span> i
				<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> i<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		end <span class="token operator">=</span> endPos

		<span class="token keyword">for</span> j <span class="token operator">:=</span> end<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> j<span class="token operator">--</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> L<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> L<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
				startPos <span class="token operator">=</span> j
				<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		start <span class="token operator">=</span> startPos
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> L
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><code>This simple algorithm performs poorly in real world use and is used primarily as an educational tool.</code></p> <p>冒泡排序是一个稳定的排序算法，时间复杂度 O(n²), 交换 O(n²)， 不过任何优化也改变不了这是一个教育级算法的事实...</p> <h3 id="选择排序"><a href="#选择排序" class="header-anchor">#</a> 选择排序</h3> <p>选择排序是一种简单直观的排序算法。它的工作原理如下。首先在未排序序列中找到最小元素，存放到排序序列的起始位置，然后，再从剩余未排序元素中继续寻找最小元素，然后放到已排序序列的末尾。以此类推，直到所有元素均排序完毕。 选择排序的主要优点与数据移动有关。如果某个元素位于正确的最终位置上，则它不会被移动。</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">selectionSort</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> minIdx <span class="token operator">=</span> i
		<span class="token keyword">for</span> j <span class="token operator">:=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> L<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> L<span class="token punctuation">[</span>minIdx<span class="token punctuation">]</span> <span class="token punctuation">{</span>
				minIdx <span class="token operator">=</span> j
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> j<span class="token punctuation">,</span> minIdx<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>选择排序的交换操作介于0和<code>(n-1)</code>次之间。选择排序的比较操作为<code>n(n-1)/2}n(n-1)/2</code>次。选择排序的赋值操作介于<code>0</code>和<code>3(n-1)}3(n-1)</code>次之间。</p> <p>比较次数<code>O(n^{2})</code>，比较次数与关键字的初始状态无关，总的比较次数<code>(n-1)/2}N=(n-1)+(n-2)+...+1=n\times (n-1)/2</code>。交换次数<code>O(n)</code>，最好情况是，已经有序，交换0次；最坏情况是，逆序，交换n-1次。交换次数比冒泡排序较少，由于交换所需CPU时间比比较所需的CPU时间多，n值较小时，选择排序比冒泡排序快。</p> <blockquote><p>原地操作几乎是选择排序的唯一优点，当空间复杂度要求较高时，可以考虑选择排序；实际适用的场合非常罕见。</p></blockquote> <h3 id="归并排序"><a href="#归并排序" class="header-anchor">#</a> 归并排序</h3> <ul><li>分割: 递归地把当前数组平均分割成两半</li> <li>集成：在保持元素顺序的同时将上一步得到的子序列集成到一起（归并）</li></ul> <p>归并排序使用分而治之的思想，以折半的方式来递归/迭代排序元素，利用空间(存储分隔的数组)来换时间，做到了时间复杂度 <code>O(n·log(n))</code> 的同时保持了稳定.</p> <p>这让它在一些更考虑排序效率和稳定性，次考虑存储空间的场合非常适用（如数据库内排序）。和堆排序相比有同样的时间复杂度, 但是堆排序的O(1)辅助空间显然更胜一筹, 但是归并排序的稳定是优点, 且归并排序非常适合于链表排序。</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> L
	<span class="token punctuation">}</span>
	<span class="token comment">//递[归]</span>
	middle <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
	<span class="token comment">//不断地进行左右对半划分</span>
	left <span class="token operator">:=</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>L<span class="token punctuation">[</span><span class="token punctuation">:</span>middle<span class="token punctuation">]</span><span class="token punctuation">)</span>
	right <span class="token operator">:=</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>L<span class="token punctuation">[</span>middle<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token comment">//合[并]</span>
	<span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">merge</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>
	newArr <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">len</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
	i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> index <span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span>
	<span class="token keyword">for</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> left<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> right<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token punctuation">{</span>
			newArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> right<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
			index<span class="token operator">++</span>
			j<span class="token operator">++</span>
			<span class="token keyword">if</span> j <span class="token operator">==</span> <span class="token function">len</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">copy</span><span class="token punctuation">(</span>newArr<span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> left<span class="token punctuation">[</span>i<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
				<span class="token keyword">break</span>
			<span class="token punctuation">}</span>

		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
			newArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> left<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
			index<span class="token operator">++</span>
			i<span class="token operator">++</span>
			<span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token function">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">copy</span><span class="token punctuation">(</span>newArr<span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> right<span class="token punctuation">[</span>j<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
				<span class="token keyword">break</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> newArr
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>传入排序方法版本的归并排序, 由于Go语言不支持默认参数, 所以实现起来会有点不优雅, 暂且用参数 struct 来实现默认排序方法</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> MergeConf <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	L       <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
	Compare <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">mergeSort2</span><span class="token punctuation">(</span>conf MergeConf<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>conf<span class="token punctuation">.</span>L<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> conf<span class="token punctuation">.</span>L
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> conf<span class="token punctuation">.</span>Compare <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		conf<span class="token punctuation">.</span>Compare <span class="token operator">=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> a <span class="token operator">&gt;</span> b
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//递归</span>
	middle <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>conf<span class="token punctuation">.</span>L<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
	<span class="token comment">//不断地进行左右对半划分</span>
	leftConf <span class="token operator">:=</span> MergeConf<span class="token punctuation">{</span>L<span class="token punctuation">:</span> conf<span class="token punctuation">.</span>L<span class="token punctuation">[</span><span class="token punctuation">:</span>middle<span class="token punctuation">]</span><span class="token punctuation">,</span> Compare<span class="token punctuation">:</span> conf<span class="token punctuation">.</span>Compare<span class="token punctuation">}</span>
	rightConf <span class="token operator">:=</span> MergeConf<span class="token punctuation">{</span>L<span class="token punctuation">:</span> conf<span class="token punctuation">.</span>L<span class="token punctuation">[</span>middle<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Compare<span class="token punctuation">:</span> conf<span class="token punctuation">.</span>Compare<span class="token punctuation">}</span>

	<span class="token comment">//合并</span>
	<span class="token keyword">return</span> <span class="token function">merge2</span><span class="token punctuation">(</span><span class="token function">mergeSort2</span><span class="token punctuation">(</span>leftConf<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">mergeSort2</span><span class="token punctuation">(</span>rightConf<span class="token punctuation">)</span><span class="token punctuation">,</span> conf<span class="token punctuation">.</span>Compare<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">merge2</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> compare <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
	newArr <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">len</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
	i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> index <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>
	<span class="token keyword">for</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token function">compare</span><span class="token punctuation">(</span>left<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> right<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			newArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> right<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
			index<span class="token operator">++</span>
			j<span class="token operator">++</span>
			<span class="token keyword">if</span> j <span class="token operator">==</span> <span class="token function">len</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">copy</span><span class="token punctuation">(</span>newArr<span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> left<span class="token punctuation">[</span>i<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
				<span class="token keyword">break</span>
			<span class="token punctuation">}</span>

		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			newArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> left<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
			index<span class="token operator">++</span>
			i<span class="token operator">++</span>
			<span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token function">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">copy</span><span class="token punctuation">(</span>newArr<span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> right<span class="token punctuation">[</span>j<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
				<span class="token keyword">break</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> newArr
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="快速排序"><a href="#快速排序" class="header-anchor">#</a> 快速排序</h3> <p>快速排序使用分治法（Divide and conquer）策略来把一个序列（list）分为较小和较大的2个子序列，然后递归地排序两个子序列。</p> <p>步骤为：</p> <ul><li>挑选基准值：从数列中挑出一个元素，称为“基准”（pivot），</li> <li>分割：重新排序数列，所有比基准值小的元素摆放在基准前面，所有比基准值大的元素摆在基准后面（与基准值相等的数可以到任何一边）。在这个分割结束之后，对基准值的排序就已经完成，</li> <li>递归排序子序列：递归地将小于基准值元素的子序列和大于基准值元素的子序列排序。
递归到最底部的判断条件是数列的大小是零或一，此时该数列显然已经有序。</li></ul> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>result <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>

	<span class="token keyword">if</span> n <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> L
	<span class="token punctuation">}</span>

	<span class="token keyword">var</span> less<span class="token punctuation">,</span> greater <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>

	pivot <span class="token operator">:=</span> L<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> L<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot <span class="token punctuation">{</span>
			less <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>less<span class="token punctuation">,</span> L<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> L<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> pivot <span class="token punctuation">{</span>
			greater <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>greater<span class="token punctuation">,</span> L<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>less<span class="token punctuation">)</span><span class="token punctuation">,</span> pivot<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>greater<span class="token punctuation">)</span><span class="token operator">...</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>上面简单版本的缺点是，它需要 O(n) 的额外存储空间，也就跟归并排序一样不好。额外需要的存储器空间配置，在实际上的实现，也会极度影响速度和缓存的性能。有一个比较复杂使用原地（in-place）分割算法的版本，且在好的基准选择上，平均可以达到 O(log n) 空间的使用复杂度。</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">quickSort2</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> left<span class="token punctuation">,</span> right <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">if</span> left <span class="token operator">&gt;=</span> right <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	pivotIndex <span class="token operator">:=</span> <span class="token function">partition</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span>

	<span class="token function">quickSort2</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> left<span class="token punctuation">,</span> pivotIndex<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token function">quickSort2</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> pivotIndex<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// 分段</span>
<span class="token keyword">func</span> <span class="token function">partition</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> left<span class="token punctuation">,</span> right <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>storeIndex <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	pivotIndex <span class="token operator">:=</span> <span class="token function">getPivot</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span>
	pivot <span class="token operator">:=</span> L<span class="token punctuation">[</span>pivotIndex<span class="token punctuation">]</span>

	<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> pivotIndex<span class="token punctuation">,</span> right<span class="token punctuation">)</span> <span class="token comment">// 把pivot移到結尾</span>

	storeIndex <span class="token operator">=</span> left
	<span class="token keyword">for</span> i <span class="token operator">:=</span> left<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> right<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>

		<span class="token keyword">if</span> L<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> pivot <span class="token punctuation">{</span>
			<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> storeIndex<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
			storeIndex<span class="token operator">++</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> right<span class="token punctuation">,</span> storeIndex<span class="token punctuation">)</span> <span class="token comment">// 把pivot移到它最後的地方</span>

	<span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>In the very early versions of quicksort, the leftmost element of the partition would often be chosen as the pivot element. Unfortunately, this causes worst-case behavior on already sorted arrays, which is a rather common use-case.</li></ul> <p>简易版快排使用最左边的元素, 这导致了在快排好的数组需要从头比较, 导致了<code>worst-case behavior</code>。</p> <p>pivot基准的选择的演变也从选取中间数, 到 medians of three (三个坐标中最大的数) 甚至 ninther, 对于长度越大数组的排序性能提升愈加明显。</p> <ul><li>mid // 中数版本</li> <li>median-of-3 method for Lomuto partition</li> <li>The ninther, which is the &quot;median of three medians of three&quot; is even better for very large n.</li></ul> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">getPivot</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> low<span class="token punctuation">,</span> high <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	mid <span class="token operator">:=</span> low <span class="token operator">+</span> <span class="token punctuation">(</span>high<span class="token operator">-</span>low<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span>
	<span class="token comment">// 用low + (high - low) / 2 而不直接用 (low + high) / 2是为了减少整数溢出的情况</span>

	<span class="token keyword">if</span> L<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> L<span class="token punctuation">[</span>low<span class="token punctuation">]</span> <span class="token punctuation">{</span>
		<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> low<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> L<span class="token punctuation">[</span>high<span class="token punctuation">]</span> <span class="token operator">&lt;</span> L<span class="token punctuation">[</span>low<span class="token punctuation">]</span> <span class="token punctuation">{</span>
		<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> high<span class="token punctuation">,</span> low<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> L<span class="token punctuation">[</span>high<span class="token punctuation">]</span> <span class="token operator">&lt;</span> L<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token punctuation">{</span>
		<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> high<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> high
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="插入排序"><a href="#插入排序" class="header-anchor">#</a> 插入排序</h3> <p>定位上与选择排序非常相似, 是一种简单直观的稳定排序算法。它的工作原理如下。首先在未排序序列第二位起固定一个指针，和已排序序列最后一位开始比较，一直和前一位交换位置直到若比当前元素小则停止，以此类推，直到所有元素均排序完毕。</p> <p>稳定, 适合场景：对快要排序完成的数组时间复杂度为 O(n), 非常低的开销</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">insertionSort</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		j <span class="token operator">:=</span> i
		<span class="token keyword">for</span> j <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> L<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> L<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token punctuation">{</span>
				<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			j <span class="token operator">=</span> j <span class="token operator">-</span> <span class="token number">1</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>插入排序的比较是向已排序的数组找一个合适的位置， 用二分法直接找到插入点可以将这一步骤的复杂度变为O(lgN)</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// version2</span>
<span class="token keyword">func</span> <span class="token function">insertionSort2</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		j <span class="token operator">:=</span> i
		insertIndex <span class="token operator">:=</span> <span class="token function">searchInsert</span><span class="token punctuation">(</span>L<span class="token punctuation">[</span><span class="token punctuation">:</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> L<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token keyword">for</span> j <span class="token operator">&gt;</span> insertIndex <span class="token punctuation">{</span>
			<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span>
			j <span class="token operator">=</span> j <span class="token operator">-</span> <span class="token number">1</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="希尔排序"><a href="#希尔排序" class="header-anchor">#</a> 希尔排序</h3> <p>希尔排序，也称递减增量排序算法，是插入排序的一种更高效的改进版本。希尔排序是非稳定排序算法。 希尔排序是基于插入排序的以下两点性质而提出改进方法的： 插入排序在对几乎已经排好序的数据操作时，效率高，即可以达到线性排序的效率 但插入排序一般来说是低效的，因为插入排序每次只能将数据移动一位。</p> <p>其中 gap（增量）的选择是希尔排序的重要部分。只要最终 gap 为 1 任何 gap 序列都可以工作。算法最开始以一定的 gap 进行排序。然后会继续以一定 gap 进行排序，直到 gap = 1 时，算法变为插入排序。初版 gap 选择为 n/2 。</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">shellSort</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	n <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>
	<span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	gap <span class="token operator">:=</span> n <span class="token operator">/</span> <span class="token number">2</span>
	<span class="token keyword">for</span> gap <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
			j <span class="token operator">:=</span> i
			<span class="token keyword">for</span> j <span class="token operator">&gt;=</span> gap <span class="token operator">&amp;&amp;</span> L<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> L<span class="token punctuation">[</span>j<span class="token operator">-</span>gap<span class="token punctuation">]</span> <span class="token punctuation">{</span>
				L<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> L<span class="token punctuation">[</span>j<span class="token operator">-</span>gap<span class="token punctuation">]</span> <span class="token operator">=</span> L<span class="token punctuation">[</span>j<span class="token operator">-</span>gap<span class="token punctuation">]</span><span class="token punctuation">,</span> L<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
				j <span class="token operator">=</span> j <span class="token operator">-</span> gap
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		gap <span class="token operator">=</span> gap <span class="token operator">/</span> <span class="token number">2</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>已知的最好步长序列是由Sedgewick提出的(1, 5, 19, 41, 109,...), 第二版是用已知的公理 最佳部长序列来替换<code>n/2</code> 。</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">shellSort2</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
	n <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>
	<span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> L
	<span class="token punctuation">}</span>
	gap<span class="token punctuation">,</span> step <span class="token operator">:=</span> <span class="token function">findGap</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> gap <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
			j <span class="token operator">:=</span> i
			<span class="token keyword">for</span> j <span class="token operator">&gt;=</span> gap <span class="token operator">&amp;&amp;</span> L<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> L<span class="token punctuation">[</span>j<span class="token operator">-</span>gap<span class="token punctuation">]</span> <span class="token punctuation">{</span>
				<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j<span class="token operator">-</span>gap<span class="token punctuation">)</span>
				j <span class="token operator">=</span> j <span class="token operator">-</span> gap
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		step<span class="token operator">--</span>
		gap <span class="token operator">=</span> <span class="token function">createGap</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> L
<span class="token punctuation">}</span>

<span class="token comment">// 已数组长度查询最接近的增量序列 index</span>
<span class="token keyword">func</span> <span class="token function">findGap</span><span class="token punctuation">(</span>num <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>gap<span class="token punctuation">,</span> step <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	gap <span class="token operator">=</span> <span class="token number">1</span>

	<span class="token keyword">for</span> gap <span class="token operator">&lt;</span> num <span class="token punctuation">{</span>
		step<span class="token operator">++</span>
		gap <span class="token operator">=</span> <span class="token function">createGap</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span>

<span class="token punctuation">}</span>

<span class="token comment">// 根据增量序列 index 返回 gap</span>
<span class="token keyword">func</span> <span class="token function">createGap</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>gap <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token number">0</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token function">int</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token function">float64</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token function">float64</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h3 id="堆排序"><a href="#堆排序" class="header-anchor">#</a> 堆排序</h3> <p>堆排序可以认为是选择排序的改进版，像选择排序一样将输入划分为已排序和待排序。</p> <p>不一样的是堆排序利用堆这种近似完全二叉树的良好的数据结构来实现排序，本质上使用了二分的思想。</p> <p>它在拥有良好的可预测性的同时（不管输入什么都是 O(n·log(n)) 时间复杂度），但它的缺点也有：即不稳定，而且 O(n·log(n)) 的平均效率决定了它的效率不如快速排序。适用于数据库内引擎排序（需要这样的可预测性性能）。</p> <div class="language-go line-numbers-mode"><pre class="language-go"><code>function <span class="token function">heapSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> size <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

  <span class="token comment">// 初始化 heap，i 从最后一个父节点开始调整，直到节点均调整完毕 </span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>let i <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>size <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">heapify</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 堆排序：先将第一个元素和已拍好元素前一位作交换，再重新调整，直到排序完毕</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>let i <span class="token operator">=</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">heapify</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">heapify</span><span class="token punctuation">(</span>L <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> start<span class="token punctuation">,</span> end <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 建立父节点下标和子节点下标</span>
	dad <span class="token operator">:=</span> start
	son <span class="token operator">:=</span> dad<span class="token operator">*</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span>

	<span class="token comment">// 超过数组长度 不存在子节点</span>
	<span class="token keyword">if</span> son <span class="token operator">&gt;=</span> end <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 优先查看右节点</span>
	<span class="token keyword">if</span> son<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> L<span class="token punctuation">[</span>son<span class="token punctuation">]</span> <span class="token operator">&lt;</span> L<span class="token punctuation">[</span>son<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
		son<span class="token operator">++</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 交换位置后 对交换的子节点进行相同 heapify 操作</span>
	<span class="token keyword">if</span> L<span class="token punctuation">[</span>dad<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> L<span class="token punctuation">[</span>son<span class="token punctuation">]</span> <span class="token punctuation">{</span>
		<span class="token function">swap</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> dad<span class="token punctuation">,</span> son<span class="token punctuation">)</span>
		<span class="token function">heapify</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> son<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="排序算法比较"><a href="#排序算法比较" class="header-anchor">#</a> 排序算法比较</h2> <table><thead><tr><th></th> <th>worst-case</th> <th>best case</th> <th>Average</th> <th>Worst-case space complexity</th> <th>特点</th></tr></thead> <tbody><tr><td>冒泡排序</td> <td>O(n^2) 比较<br>О(n^2) 交换</td> <td>O(n^2) 比较<br>О(1) 交换</td> <td>O(n^2) 比较<br>О(n^2) 交换</td> <td>O(1) 辅助空间(证明是in-place sort)</td> <td>排列一个几乎快排好的数组时间复杂度为O(n)</td></tr> <tr><td>选择排序</td> <td>O(n^2) 比较<br>О(n) 交换</td> <td>O(n^2) 比较<br>О(1) 交换</td> <td>O(n^2) 比较<br>О(n) 交换</td> <td>O(1) 辅助空间(证明是in-place sort)</td> <td>由于交换复杂度为稳定的O(n), 在特定应用上交换操作消耗比较大时可以选择</td></tr> <tr><td>插入排序</td> <td>O(n^2) 比较<br>О(n^2) 交换</td> <td>O(n^2) 比较<br>О(n^2) 交换</td> <td>O(n^2) 比较<br>О(n) 交换</td> <td>O(1) 辅助空间<br>О(n) total</td> <td>用二分查找可以优化比较复杂度至 (log n)</td></tr> <tr><td>合并排序</td> <td>O(nlog n)</td> <td>O(nlog n)<br>O(n)自然合并排序</td> <td>O(nlog n)</td> <td>O(n) 辅助空间<br>O(1) 链表</td> <td>分治思想</td></tr> <tr><td>快速排序</td> <td>O(n^2)</td> <td>O(nlog n)(simple partition) O(n) (three-way partition and equal keys)</td> <td>O(nlog n)</td> <td>O(n) auxiliary (naive) <br>O(log n) auxiliary (Hoare 1962)</td> <td></td></tr> <tr><td>希尔排序</td> <td>根据步长序列的不同而不同。已知最好为 O(n log2 n)</td> <td>O(n)</td> <td>根据步长序列的不同而不同。</td> <td>O(n) 辅助空间 total O(1)</td> <td></td></tr> <tr><td>堆排序</td> <td>O(nlog n)</td> <td>O(nlog n) (distinct keys)or O(n) (equal keys)</td> <td>O(n·logn)</td> <td>O(n) 辅助空间 total O(1)</td> <td>不稳定</td></tr></tbody></table> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>数据几乎快排序完成时？</p> <ul><li>插入排序不解释</li></ul> <p>数据量小，对效率要求不高，代码简单时？</p> <ul><li>性能大小：希尔排序 &gt; 插入排序 &gt; 冒泡排序 &gt; 选择排序</li></ul> <p>数据量大，要求稳定的效率（不会像快速排序一样有 O(n²) 的情况）（如数据库中）？</p> <ul><li>堆排序</li></ul> <p>数据量大，要求效率高，而且要稳定？</p> <ul><li>归并排序</li></ul> <p>数据量大，要求最好的平均效率？</p> <ul><li>性能大小：快速排序 &gt; 堆排序 &gt; 归并排序</li></ul> <p>因为虽然堆排序做到了 O(n·logn)，而快速排序的最差情况是 O(n²)，但是快速排序的绝大部分时间的效率比 O(n·log(n) 还要快，所以快速排序真的无愧于它的名字。（十分快速）</p> <p>选择排序绝对没用吗？</p> <ul><li>选择排序只需要 O(n) 次交换，这一点它完爆冒泡排序(冒泡是真没用)。</li></ul> <h2 id="其他辅助方法"><a href="#其他辅助方法" class="header-anchor">#</a> 其他辅助方法</h2> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// 交换元素位置</span>
<span class="token keyword">func</span> <span class="token function">swap</span><span class="token punctuation">(</span>a <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 二分法查找插入位置</span>
<span class="token keyword">func</span> <span class="token function">searchInsert</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> target <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	l<span class="token punctuation">,</span> r <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
	<span class="token keyword">for</span> l <span class="token operator">&lt;=</span> r <span class="token punctuation">{</span>
		mid <span class="token operator">:=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span>r<span class="token operator">-</span>l<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span>
		<span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target <span class="token punctuation">{</span>
			l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target <span class="token punctuation">{</span>
			r <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> mid
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> l
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li>Wikipedia 排序相关</li> <li>归并排序go实现 https://emacsist.github.io/2016/11/22/golang-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8Fmergesort/</li> <li>https://www.rayjune.me/2018/03/22/elegant-javascript-sorting-algorithm-es6/</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">lastUpdate:</span> <span class="time">11/4/2020, 7:37:58 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/mit/course/introductiontocomputerscienceandprogramminginpython/bi-ji.html" class="prev">
        笔记
      </a></span> <span class="next"><a href="/note/mit/course/mathematicsforcomputerscience/">
        简介
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/note/assets/js/app.836c388e.js" defer></script><script src="/note/assets/js/2.ad448db7.js" defer></script><script src="/note/assets/js/11.5fff0ae5.js" defer></script>
  </body>
</html>
